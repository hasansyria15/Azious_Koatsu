{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Partie Titre-->
    <title>{% block title %}KOATSU - Precision in Worldwide Sourcing{% endblock %}</title>

    <!-- Meta Description -->
    <meta name="description"
        content="{% block meta_description %}KOATSU - Professional transport and logistics services. Ground transport, air freight, maritime shipping, and warehousing solutions. Fast, reliable, and efficient continental transportation.{% endblock %}">

    <!-- Meta Keywords -->
    <meta name="keywords"
        content="{% block meta_keywords %}transport, logistics, shipping, freight, ground transport, air transport, maritime transport, warehousing, continental transportation{% endblock %}">

    <!-- Author -->
    <meta name="author" content="KOATSU Limited">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/logo.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'img/logo.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/logo.png' %}">
    <link rel="shortcut icon" href="{% static 'img/logo.png' %}">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{% block og_type %}website{% endblock %}">
    <meta property="og:url" content="{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}">
    <meta property="og:title" content="{% block og_title %}KOATSU Limited - Global Sourcing & Industrial Supply{% endblock %}">
    <meta property="og:description"
        content="{% block og_description %}Expert sourcing, logistics, and quality control with Japanese precision. Connecting businesses with quality manufacturers across Asia, North America, and Europe.{% endblock %}">
    <meta property="og:image"
        content="{% block og_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'img/logo.png' %}{% endblock %}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="ja_JP">
    <meta property="og:site_name" content="KOATSU Limited">



    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@koatsu">
    <meta name="twitter:creator" content="@koatsu">
    <meta name="twitter:url" content="{% block twitter_url %}{{ request.build_absolute_uri }}{% endblock %}">
    <meta name="twitter:title"
        content="{% block twitter_title %}{% block twitter_page_title %}KOATSU{% endblock %}{% endblock %}">
    <meta name="twitter:description"
        content="{% block twitter_description %}{% block twitter_page_description %}KOATSU - Votre plateforme de confiance{% endblock %}{% endblock %}">
    <meta name="twitter:image"
        content="{% block twitter_image %}{% load static %}{% static 'images/twitter-card.jpg' %}{% endblock %}">



    <!-- Favicon (utilise le logo existant) -->
    <link rel="icon" type="image/png" href="{% static 'img/logo.png' %}">
    <meta name="theme-color" content="#004E7C">



    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}?v=2.0">



    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!--Awesome Icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700&family=Inter:wght@200;300;400;500;600;700&display=swap"
        rel="stylesheet">


    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">


    <!-- Canonical URL -->
    <link rel="canonical" href="{% block canonical_url %}{{ request.build_absolute_uri }}{% endblock %}">



    <!-- Alternate Languages -->
    <link rel="alternate" hreflang="fr" href="{% block hreflang_fr %}{{ request.build_absolute_uri }}{% endblock %}">
    <link rel="alternate" hreflang="en" href="{% block hreflang_en %}{{ request.build_absolute_uri }}{% endblock %}">
    <link rel="alternate" hreflang="ja" href="{% block hreflang_ja %}{{ request.build_absolute_uri }}{% endblock %}">
    <link rel="alternate" hreflang="x-default"
        href="{% block hreflang_default %}{{ request.build_absolute_uri }}{% endblock %}">


    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
</head>


<body data-language="{{ current_language|default:'en' }}" data-consent="{{ cookie_consent|default:'' }}">

    <!-- ============================================================
         BANNIÈRE DE CONSENTEMENT COOKIES (GDPR/RGPD)
    ============================================================ -->
    {% if show_cookie_banner %}
    <div class="cookie-consent-banner" id="cookieConsentBanner" role="dialog" aria-labelledby="cookieTitle"
        aria-describedby="cookieDesc">
        <div class="cookie-consent-container">
            <div class="cookie-consent-content">
                <div class="cookie-icon">
                    <i class="fas fa-cookie-bite"></i>
                </div>
                <div class="cookie-text">
                    <h3 id="cookieTitle" class="cookie-title" data-i18n="cookie.title">Cookie Settings</h3>
                    <p id="cookieDesc" class="cookie-description" data-i18n="cookie.description">
                        We use cookies to enhance your browsing experience, provide personalized content, and analyze
                        our traffic.
                        By clicking "Accept All", you consent to our use of cookies.
                    </p>
                </div>
            </div>
            <div class="cookie-consent-actions">
                <button type="button" class="btn-cookie btn-cookie-settings" id="cookieSettings"
                    data-i18n="cookie.settings">
                    <i class="fas fa-cog"></i> Customize
                </button>
                <button type="button" class="btn-cookie btn-cookie-reject" id="cookieReject" data-i18n="cookie.reject">
                    Reject All
                </button>
                <button type="button" class="btn-cookie btn-cookie-accept" id="cookieAccept" data-i18n="cookie.accept">
                    Accept All
                </button>
            </div>
        </div>

        <!-- Panneau de personnalisation des cookies -->
        <div class="cookie-settings-panel" id="cookieSettingsPanel" hidden>
            <div class="cookie-settings-header">
                <h4 data-i18n="cookie.settings.title">Cookie Preferences</h4>
                <button type="button" class="cookie-settings-close" id="cookieSettingsClose" aria-label="Close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="cookie-settings-content">
                <!-- Cookies essentiels -->
                <div class="cookie-category">
                    <div class="cookie-category-header">
                        <label class="cookie-toggle">
                            <input type="checkbox" checked disabled>
                            <span class="cookie-toggle-slider"></span>
                        </label>
                        <div class="cookie-category-info">
                            <h5 data-i18n="cookie.essential.title">Essential Cookies</h5>
                            <p data-i18n="cookie.essential.desc">Required for the website to function properly. Cannot
                                be disabled.</p>
                        </div>
                    </div>
                </div>

                <!-- Cookies de préférence -->
                <div class="cookie-category">
                    <div class="cookie-category-header">
                        <label class="cookie-toggle">
                            <input type="checkbox" id="cookiePreferences" checked>
                            <span class="cookie-toggle-slider"></span>
                        </label>
                        <div class="cookie-category-info">
                            <h5 data-i18n="cookie.preferences.title">Preference Cookies</h5>
                            <p data-i18n="cookie.preferences.desc">Remember your language and display preferences.</p>
                        </div>
                    </div>
                </div>

                <!-- Cookies analytiques -->
                <div class="cookie-category">
                    <div class="cookie-category-header">
                        <label class="cookie-toggle">
                            <input type="checkbox" id="cookieAnalytics">
                            <span class="cookie-toggle-slider"></span>
                        </label>
                        <div class="cookie-category-info">
                            <h5 data-i18n="cookie.analytics.title">Analytics Cookies</h5>
                            <p data-i18n="cookie.analytics.desc">Help us understand how visitors interact with our
                                website.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="cookie-settings-actions">
                <button type="button" class="btn-cookie btn-cookie-save" id="cookieSaveSettings"
                    data-i18n="cookie.save">
                    Save Preferences
                </button>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Page Transition Overlay -->
    <div class="page-transition-overlay" id="pageTransitionOverlay">
        <div class="transition-content">
            <div class="transition-logo">
                <img src="{% static 'img/logo.png' %}" alt="KOATSU Logo"
                    style="width: 100%; height: 100%; object-fit: contain;">
            </div>
            <div class="transition-text">Loading...</div>
        </div>
    </div>

    <header>
        {% block headercontent %}
        {% include 'partiels/header.html' %}
        {% endblock %}
    </header>

    <main class="page-wrapper">
        <!--partie contenu-->
        {% block content %}
        <!-- Contenu principal -->
        {% endblock %}
    </main>

    <footer>
        <!--partie footer-->
        {% include 'partiels/footer.html' %}
    </footer>

    <!-- Bootstrap Bundle JS (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>

    <!-- i18n - Internationalisation (Cookies & Traductions) -->
    <script src="{% static 'js/i18n.js' %}?v=1.0"></script>

    <!-- Custom JS -->
    <script src="{% static 'js/script.js' %}?v=2.0"></script>
</body>

</html>