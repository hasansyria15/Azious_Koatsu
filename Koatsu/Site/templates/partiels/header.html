{% load static %}

<!-- Header KOATSU - Version simplifiÃ©e -->
<header class="main-header">
  <div class="container">
    <!-- Logo KOATSU - Ã€ gauche -->
    <div class="logo-container">
      <a class="navbar-brand" href="/">
        <img src="{% static 'img/logo.png' %}" alt="KOATSU Logo" class="logo-img" />
        <span class="logo-text">KOATSU</span>
      </a>
    </div>

    <!-- Navigation principale - CentrÃ©e (Desktop) -->
    <nav class="main-navigation">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}"
            href="{% url 'site:home' %}" data-i18n="nav.home">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'about' %}active{% endif %}"
            href="{% url 'site:about' %}" data-i18n="nav.about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'services' %}active{% endif %}"
            href="{% url 'site:services' %}" data-i18n="nav.services">Services</a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if request.resolver_match.url_name == 'contact' %}active{% endif %}"
            href="{% url 'site:contact' %}" data-i18n="nav.contact">Contact</a>
        </li>
      </ul>
    </nav>

    <!-- Mobile Navigation Toggle (Hamburger Button) -->
    <button class="mobile-nav-toggle" type="button" id="mobileMenuToggle" aria-label="Ouvrir le menu de navigation"
      aria-expanded="false" aria-controls="mobileMenu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

    <!-- SÃ©lecteur de langue - Ã€ droite -->
    <div class="language-selector">
      <div class="dropdown">
        <button class="btn btn-language dropdown-toggle" type="button" id="languageDropdown"
          aria-label="Select language" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-globe" aria-hidden="true"></i>
          <span>EN</span>
        </button>
        <ul class="dropdown-menu" id="languageMenu">
          <li><a class="dropdown-item" href="?lang=en">ðŸ‡ºðŸ‡¸ English</a></li>
          <li><a class="dropdown-item" href="?lang=ja">ðŸ‡¯ðŸ‡µ æ—¥æœ¬èªž</a></li>
        </ul>
      </div>
    </div>
  </div>
</header>

<!-- ============================================================
     MENU MOBILE OVERLAY - AffichÃ© uniquement sur tÃ©lÃ©phone
============================================================ -->
<section class="mobile-menu-overlay" id="mobileMenu" aria-hidden="true">
  <!-- Fond overlay cliquable pour fermer -->
  <div class="mobile-menu-backdrop" id="mobileMenuBackdrop"></div>

  <!-- Contenu du menu mobile -->
  <div class="mobile-menu-content">
    <!-- Header du menu mobile avec logo et bouton fermer -->
    <div class="mobile-menu-header">
      <a class="mobile-menu-logo" href="/">
        <img src="{% static 'img/logo.png' %}" alt="KOATSU Logo" />
        <span>KOATSU</span>
      </a>
      <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Fermer le menu">
        <i class="fas fa-times"></i>
      </button>
    </div>

    <!-- Navigation mobile -->
    <nav class="mobile-menu-nav">
      <ul class="mobile-nav-list">
        <li class="mobile-nav-item">
          <a class="mobile-nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}"
            href="{% url 'site:home' %}">
            <i class="fas fa-home"></i>
            <span data-i18n="nav.home">Home</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a class="mobile-nav-link {% if request.resolver_match.url_name == 'about' %}active{% endif %}"
            href="{% url 'site:about' %}">
            <i class="fas fa-info-circle"></i>
            <span data-i18n="nav.about">About</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a class="mobile-nav-link {% if request.resolver_match.url_name == 'services' %}active{% endif %}"
            href="{% url 'site:services' %}">
            <i class="fas fa-cogs"></i>
            <span data-i18n="nav.services">Services</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a class="mobile-nav-link {% if request.resolver_match.url_name == 'contact' %}active{% endif %}"
            href="{% url 'site:contact' %}">
            <i class="fas fa-envelope"></i>
            <span data-i18n="nav.contact">Contact</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- SÃ©lecteur de langue mobile -->
    <div class="mobile-language-selector">
      <span class="mobile-language-title">
        <i class="fas fa-globe"></i> <span data-i18n="lang.selector">Language</span>
      </span>
      <div class="mobile-language-options">
        <a href="?lang=en" class="mobile-lang-btn active">ðŸ‡ºðŸ‡¸ EN</a>
        <a href="?lang=ja" class="mobile-lang-btn">ðŸ‡¯ðŸ‡µ JP</a>
      </div>
    </div>

    <!-- Footer du menu mobile -->
    <div class="mobile-menu-footer">
      <div class="mobile-social-links">
        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
      </div>
      <p class="mobile-copyright" data-i18n="footer.copyright">Â© 2025 KOATSU. All rights reserved.</p>
    </div>
  </div>
</section>